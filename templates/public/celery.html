{% extends "../base_public.html" %}
{% load custom_markdown %}
{% block content %}

<div class="container-fluid" style="width:90%;padding-left: 180px;">
      <table class="table table-bordered">
          <tr style="font-weight: bold;">
            <td>Worker</td>
            <!--<td>Broker</td>
            <td>Pool</td>
            <td>rusage</td> -->
            <td>clock</td>
            <td>pid</td>
            <td>total</td>
            <td>查看详情</td>
            <td>调整进程池数目</td>
          </tr>

        {% for k,v in data.items %}
        <tr>
            <td><a href="/ansible/celery/{{ k }}">{{ k }}</a></td>
            <!--<td><pre>{{ v.broker|json_format }}</pre></td> 
            <td><pre>{{ v.pool|json_format }}</pre></td>
            <td><pre>{{ v.rusage|json_format }}</pre></td> -->
            <td>{{ v.clock }}</td><td>{{ v.pid }}</td>
            <td>{{ v.total }}</td>
            <td><a href="/ansible/celery/{{ k }}">点击详情</a></td>
            <td>
                <div class="form-inline">
                    <div class="form-group">
                        <input class="form-control">
                        <button type="submit" class="btn btn-default">增加</button>
                        <button type="submit" class="btn btn-default">减少</button>
                    </div>
                </div>
            </td>
        </tr>    
        {% endfor %}

      </table>
        {% if data|length == 0 %}
            <p>未检测到 Celery 节点 </p>
        {% endif %}


</div>

{% endblock %}
